<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <title>문화누리</title>
    <link href="./weatherdashboard.css" rel="stylesheet">
    <link href="style.css" rel="stylesheet" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Hahmlet:wght@500&family=Jua&family=Nanum+Gothic+Coding&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.1.1/chart.umd.js"></script>
</head>
<body>
    <header>
        <div class="mainframe">
            <div class="logo">
                <img src="munhwa_logo.png" width="170" height="50">
            </div>
        </div>
    </header>
    <section>
        <div class="container1">
            <div class="sidebar">
                <div class="side_list">
                    <ul>
                        <li>
                            <a href="./index.html">메인 날씨 페이지</a>
                        </li>
                        <li>
                            <a id = "weight_btn"href="./menu/weight.html">어디서 운동할까</a>
                            <ul>
                              <li>
                                <a class="weight_topmenu" href="./menu/weight_serach/weight_gyeonggi.html" style="display: none;">경기도</a>
                                <select id="gyeonggi_select" class="weight_middlemenu" style="display: none;"onchange="if(this.value) location.href=(this.value);">
                                  <option value="">시를 선택해 주세요</option>
                                  <option value="./menu/weight_serach/weight_gyeonggi.html">가평군</option>
                                  <option value="./menu/weight_serach/weight_gyeonggi.html">고양시</option>
                                </select>
                             </li>
                             <li>
                              <a class="weight_topmenu" href="./menu/weight_serach/weight_gyeonggi.html" style="display: none;">서울</a>
                              <select id="seoul" class="weight_middlemenu" style="display: none;"onchange="if(this.value) location.href=(this.value);">
                                <option value="">시를 선택해 주세요</option>
                                <option value="./menu/weight_serach/weight_gyeonggi.html">가평군</option>
                                <option value="./menu/weight_serach/weight_gyeonggi.html">고양시</option>
                              </select>
                            </li>
                            <li>
                              <a class="weight_topmenu" href="./menu/weight_serach/weight_gyeonggi.html" style="display: none;">경기도</a>
                            </li>
                           </ul>
                        </li>
                        <li>
                            <a href="./menu/trip.html">어디 여행갈까</a>
                        </li>
                        <li>
                            <a href="./menu/dog.html">반려동물 사랑하자</a>
                        </li>
                        <li>
                            <a href="./menu/library.html">도서관을 사랑하자</a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="container2_2">
                <div class="weather-dashboard">
                    <div class="location">
                      <h2>나의지역 : <span id="city-name"></span></h2>
                    </div>                 
                    <div class="weather">
                      <div class="temperature">
                        <span id="temp"></span>&deg;C
                      </div>
                      <div class="temperature_2">
                        <div class="feel">
                          체감온도 : <span id="feel"></span>&deg;C
                        </div>
                        <div class="humi">
                          습도 : <span id="humi"></span> %
                        </div>
                      </div>
                      <div class="conditions">
                        <img id="weather-icon" alt="Weather Icon">
                        <span id="des"></span>
                      </div>
                    </div>
                </div>
                <div><h3>현재 발효중인 특보가 없습니다.</h3></div>
                <div class="chartflex">
                    <div class="chartsize">
                        <canvas id="donut-chart"></canvas>
                    </div>
                    <div class="chartsize">
                        <canvas id="donut-chart1"></canvas>
                    </div>
                    <div class="chartsize">
                        <canvas id="donut-chart2"></canvas>
                    </div>
                </div>
                
            </div>
            <script src="./api1.js"></script>
        </div>
        
    </section>

</body>
<script>
var data = {
  labels: ["초미세먼지"],
  datasets: [{
    data: [75],
    backgroundColor: ["#FF6384"],
    hoverBackgroundColor: ["#FF6384"]
  }]
};

var canvas = document.getElementById("donut-chart");
var chart = new Chart(canvas, {
  type: "doughnut",
  data: data,
  options: {
    cutoutPercentage: 0,
    legend: {
      display: false
    },
    tooltips: {
      enabled: false
    }
  }
});
</script>
<script>
  
    var data = {
      labels: ["미세먼지"],
      datasets: [{
        data: [75],
        backgroundColor: ["#2254F6"],
        hoverBackgroundColor: ["#2254F6"]
      }]
    };
    
  
    var canvas = document.getElementById("donut-chart1");
    var chart = new Chart(canvas, {
      type: "doughnut",
      data: data,
      options: {
        cutoutPercentage: 0,
        legend: {
          display: false
        },
        tooltips: {
          enabled: false
        }
      }
    });
</script>

<script>
 
    var data = {
      labels: ["오존(O3)"],
      datasets: [{
        data: [75],
        backgroundColor: ["#22F654"],
        hoverBackgroundColor: ["#22F654"]
      }]
    };
    
  
    var canvas = document.getElementById("donut-chart2");
    var chart = new Chart(canvas, {
      type: "doughnut",
      data: data,
      options: {
        cutoutPercentage: 0,
        legend: {
          display: false
        },
        tooltips: {
          enabled: false
        }
      }
    });


    function go_back(){
  window.history.go(-1);
}

var weight_topmenu = document.getElementsByClassName("weight_topmenu");
    var weight_btn = document.getElementById("weight_btn");
    var gyeonggi_select = document.getElementById("gyeonggi_select");
    var weight_middlemenu = document.getElementsByClassName("weight_middlemenu");
    //상위메뉴 코드
    function show_weight_topmenu(){
      for(var i = 0; i < weight_topmenu.length; i++) {
        weight_topmenu[i].style.display = "block";
      }
    }

    function hide_weight_topmenu(){
      for(var i = 0; i < weight_topmenu.length; i++) {
        weight_topmenu[i].style.display = "none";
      }
    }

    function show_weight_middlemenu(){
      for(var i = 0; i < weight_middlemenu.length; i++) {
        weight_middlemenu[i].style.display = "block";
      }
    }

    function hide_weight_middlemenu(){ 
      for(var i = 0; i < weight_middlemenu.length; i++) {
        weight_middlemenu[i].style.display = "none";
      }
    }


    weight_btn.onmouseenter = function (e) {
      for(var i = 0; i < weight_topmenu.length; i++) {
        weight_topmenu[i].style.display = "block";
      }
    };
    
    weight_btn.onmouseleave = function (e) {
      for(var i = 0; i < weight_topmenu.length; i++) {
        weight_topmenu[i].style.display = "none";
      }
    };

      for(var i = 0; i < weight_topmenu.length; i++) {
        weight_topmenu[i].addEventListener('mouseover', show_weight_topmenu)
      };
    
     
      for(var i = 0; i < weight_topmenu.length; i++) {
        weight_topmenu[i].addEventListener('mouseout', hide_weight_topmenu)
      };


// 하위메뉴 코드
      
      for(var i = 0; i< weight_topmenu.length; i++) {
           weight_topmenu[i].onmouseenter = function (e) {
            let parent = this.parentElement;
            let middle = parent.querySelector(".weight_middlemenu");
            middle.style.display = "block";
            };  
            weight_topmenu[i].onmouseleave = function (e) {
            let parent = this.parentElement;
            let middle = parent.querySelector(".weight_middlemenu");
            middle.style.display = "none";
            };
        };

        
        for(var i = 0; i< weight_middlemenu.length; i++) {
           weight_middlemenu[i].onmouseenter = function (e) {
            let parent = this.parentElement;
            let grand_parent = parent.parentElement;
            let top = grand_parent.querySelectorAll(".weight_topmenu");
            for(var i = 0; i < top.length; i++) {
                  top[i].style.display = "block"
                };
            let middle = parent.querySelector(".weight_middlemenu");
            middle.style.display = "block";
                //미들메뉴 모두 없애는거 만들어야함
            weight_middlemenu[i].onmouseleave = function (e) {
            let parent = this.parentElement;
            let grand_parent = parent.parentElement;
            let top = grand_parent.querySelectorAll(".weight_topmenu");
            for(var i = 0; i < top.length; i++) {
                  top[i].style.display = "none"
                };
            let middle = parent.querySelector(".weight_middlemenu");
            middle.style.display = "none";
            };  
        };
    };

</script>

</body>
</html>